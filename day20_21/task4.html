<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn" onclick="fade()">淡出</button>
</body>
<script>
    function fade() {
        let style = document.querySelector("#fade-obj").style
        let btn = document.querySelector("#fade-btn")
        if (style.opacity == "") {
            style.opacity = 1
        }
        if (style.opacity == 1) {
            btn.disabled = true
            let time = setInterval(function () {
                if (style.opacity == 0) {
                    window.clearInterval(time)
                    btn.disabled = false
                    btn.innerHTML = "淡入"
                } else {
                    style.opacity -= 0.1
                }
            }, 100)
        }
        if (style.opacity == 0) {
            btn.disabled = true
            let time = setInterval(function () {
                if (style.opacity == 1) {
                    window.clearInterval(time)
                    btn.disabled = false
                    btn.innerHTML = "淡出"
                } else {
                    style.opacity = style.opacity * 1 + 0.1
                    btn.style.opacity = style.opacity * 1 + 0.1
                }
            }, 100)
        }
    }
</script>
</html>